# Rust言語用の環境構築メモ
プログラミングRust言語を勉強するため、環境構築を行う。  


<a id="installationCarriedout"></a>
## インストール実施(Linux・Mac)。
コマンド：
`curl https://sh.rustup.rs -sSf | sh`  

インストール後のPath通しが必要なようだ。  
インストール後に表示されているのをそのまま使えば良いのだろう。  
コマンド：
`source $HOME/.cargo/env`  


<a id="installlog"></a>
コマンド経過を載せても仕方ないだろうが、一応記録として残しておく。  
以下、実際のインストール状況。
```terminal
$ curl https://sh.rustup.rs -sSf | sh
info: downloading installer

Welcome to Rust!

This will download and install the official compiler for the Rust
programming language, and its package manager, Cargo.

Rustup metadata and toolchains will be installed into the Rustup
home directory, located at:

  /Users/asakunotomohiro/.rustup

This can be modified with the RUSTUP_HOME environment variable.

The Cargo home directory located at:

  /Users/asakunotomohiro/.cargo

This can be modified with the CARGO_HOME environment variable.

The cargo, rustc, rustup and other commands will be added to
Cargo's bin directory, located at:

  /Users/asakunotomohiro/.cargo/bin

This path will then be added to your PATH environment variable by
modifying the profile files located at:

  /Users/asakunotomohiro/.profile
  /Users/asakunotomohiro/.bash_profile
  /Users/asakunotomohiro/.bash_login
  /Users/asakunotomohiro/.zshenv

You can uninstall at any time with rustup self uninstall and
these changes will be reverted.

Current installation options:


   default host triple: x86_64-apple-darwin
     default toolchain: stable (default)
               profile: default
  modify PATH variable: yes

1) Proceed with installation (default)
2) Customize installation
3) Cancel installation
>1	←☆ユーザ問い合わせがあり、私は「1(デフォルト)」を選んだ。

info: profile set to 'default'
info: default host triple is x86_64-apple-darwin
info: syncing channel updates for 'stable-x86_64-apple-darwin'
info: latest update on 2021-07-29, rust version 1.54.0 (a178d0322 2021-07-26)
info: downloading component 'cargo'
info: downloading component 'clippy'
info: downloading component 'rust-docs'
 16.8 MiB /  16.8 MiB (100 %)  10.5 MiB/s in  1s ETA:  0s
info: downloading component 'rust-std'
 20.6 MiB /  20.6 MiB (100 %)   9.9 MiB/s in  2s ETA:  0s
info: downloading component 'rustc'
 75.0 MiB /  75.0 MiB (100 %)   9.5 MiB/s in  7s ETA:  0s
info: downloading component 'rustfmt'
info: installing component 'cargo'
info: installing component 'clippy'
info: installing component 'rust-docs'
 16.8 MiB /  16.8 MiB (100 %)   1.7 MiB/s in 11s ETA:  0s
info: installing component 'rust-std'
 20.6 MiB /  20.6 MiB (100 %)  10.8 MiB/s in  2s ETA:  0s
info: installing component 'rustc'
 75.0 MiB /  75.0 MiB (100 %)  10.4 MiB/s in  7s ETA:  0s
info: installing component 'rustfmt'
info: default toolchain set to 'stable-x86_64-apple-darwin'

  stable-x86_64-apple-darwin installed - rustc 1.54.0 (a178d0322 2021-07-26)


Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, run:
source $HOME/.cargo/env
$
```


<a id="throughpath"></a>
### Path通し。
書籍上では、実行(端末再起動)するたびにPath通しするのはめんどくさいだろうという配慮から永続的な設定を説明している。  
コマンド：
`source PATH="$HOME/.cargo/bin:$PATH"`  


<a id="installwindows"></a>
## インストール実施(Windows)。
exeファイルからインストールする。  

Windowsにインストールした場合、コマンドライン(`cmd`)やPowerShellで動かせるようになるとのこと。  
コマンドライン上で、`cargo new`を使い、プロジェクト作成が発生する(頻繁に)。  

もしくは、**Windows for Linux**をインストールした上で、MacやLinuxのように、`curl`コマンドで開発環境を構築できる。  


<a id="installvisualstudiocode"></a>
## Visual Studio Codeでの環境構築
公式の開発環境は用意していないそうだ。  


<a id="versionconfirmation"></a>
## バージョン確認
インストールできたかどうか及びPath通しが出来たかどうかの確認。  

```terminal
$ source $HOME/.cargo/env	←☆Path通し。
$ rustc -V	←☆コンパイラコマンド。
rustc 1.54.0 (a178d0322 2021-07-26)
$ cargo -V	←☆ビルドシステム(普段はこちらを使うようだ)。
cargo 1.54.0 (5ae8d74b3 2021-06-22)
$
```
本の通りに勉強するのであれば、最低限Ver.1.39以上が必要(非同期処理を勉強するため)。  


<a id="softwareupdate"></a>
### ソフトウェアアップデート
リリースのたびにアップデートを掛けても良いようだ。  
むしろ、古いのを使う理由はないだろう。  

コマンド：
`rustup update`  

<a id="softwareupdatelog"></a>
以下、実際のアップデート。  
```terminal
Last login: Sun Oct 24 11:10:53 on ttys002
$ rustup update
info: syncing channel updates for 'stable-x86_64-apple-darwin'
info: latest update on 2021-10-21, rust version 1.56.0 (09c42c458 2021-10-18)
info: downloading component 'rust-src'
  2.3 MiB /   2.3 MiB (100 %) 507.7 KiB/s in  5s ETA:  0s
info: downloading component 'cargo'
  4.4 MiB /   4.4 MiB (100 %) 806.4 KiB/s in  6s ETA:  0s
info: downloading component 'clippy'
  1.8 MiB /   1.8 MiB (100 %)   1.7 MiB/s in  1s ETA:  0s
info: downloading component 'rust-docs'
 17.3 MiB /  17.3 MiB (100 %)   1.3 MiB/s in 12s ETA:  0s
info: downloading component 'rust-std'
 22.1 MiB /  22.1 MiB (100 %)   1.4 MiB/s in 18s ETA:  0s
info: downloading component 'rustc'
 62.2 MiB /  62.2 MiB (100 %)   1.5 MiB/s in  1m 11s ETA:  0s
info: downloading component 'rustfmt'
  2.3 MiB /   2.3 MiB (100 %)   1.5 MiB/s in  1s ETA:  0s
info: removing previous version of component 'rust-src'
info: removing previous version of component 'cargo'
info: removing previous version of component 'clippy'
info: removing previous version of component 'rust-docs'
info: removing previous version of component 'rust-std'
info: removing previous version of component 'rustc'
info: removing previous version of component 'rustfmt'
info: installing component 'rust-src'
info: installing component 'cargo'
info: installing component 'clippy'
info: installing component 'rust-docs'
 17.3 MiB /  17.3 MiB (100 %)   2.0 MiB/s in 12s ETA:  0s
info: installing component 'rust-std'
 22.1 MiB /  22.1 MiB (100 %)   7.1 MiB/s in  3s ETA:  0s
info: installing component 'rustc'
 62.2 MiB /  62.2 MiB (100 %)   9.7 MiB/s in  6s ETA:  0s
info: installing component 'rustfmt'
info: checking for self-updates

  stable-x86_64-apple-darwin updated - rustc 1.56.0 (09c42c458 2021-10-18) (from rustc 1.54.0 (a178d0322 2021-07-26))

info: cleaning up downloads & tmp directories
$
$ rustc -V
rustc 1.56.0 (09c42c458 2021-10-18)
$ cargo -V
cargo 1.56.0 (4ed5d137b 2021-10-04)
$
```


<a id="whatcargo"></a>
### cargo
cargoとは、プロジェクトの作成からコンパイル・必要なライブラリのダウンロード・テスト実行などを行うビルドシステムとのこと。  
ライブラリのダウンロードは、[Go言語](https://golang.org/doc/go1.17#go-get)の[機能](https://www.kaoriya.net/blog/2020/06/13/)(`go get`)と同じ？  
そして、そのダウンロードは、依存関係をも解消してくれるとのことで、人間様が手作業で1つづつ探し出す必要は不要とのこと。  
なぜか、Rustの世界では、ライブラリのことを**クレート(creates.io)**と言う。  


<a id="historyustlanguage"></a>
## Rust言語の歴史
Rustは、2006年に誕生した。  
そして、2015年にRust1.0のバージョンがリリースされたようだ。  
非同期処理の`async/.await`導入は、2019年12月リリースのVer.1.39からとのこと(つい最近のことだね)。  


以上。
<!-- vim: set ts=4 sts=4 sw=4 tw=0 ff=unix fenc=utf-8 ft=markdown expandtab: -->
